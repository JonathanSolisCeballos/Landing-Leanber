(function(){window.onload=function(){const carouselSlide=document.querySelector('.carousel_slide');const carouselImages=document.querySelectorAll('.carousel_slide > div');const menu=document.querySelector('.menu');const burgerbutton=document.querySelector('#burger-menu');const menuLinks=document.querySelectorAll('.menu a');menuLinks.forEach(function(el){el.addEventListener('click',hideShow)});burgerbutton.addEventListener('click',hideShow);function hideShow(){if(menu.classList.contains('is-active')){menu.classList.remove('is-active')}else{menu.classList.add('is-active')}}let objectsToMove=document.querySelectorAll('.parallax');console.log(objectsToMove);window.addEventListener('scroll',e=>{objectsToMove.forEach(el=>{let position=window.pageYOffset*el.dataset.parallaxrate;let newScale=window.pageYOffset*el.dataset.scalerate;if(this.screen.width<=768){position=position<-275?-275:position}el.style.transform=`translateY(${ position }px) scale(${ newScale }) `})});let count=0;let dir='R';let intervalId=undefined;let size=carouselImages[0].clientWidth;window.addEventListener('resize',function(){size=carouselImages[0].clientWidth});const next=()=>{reloadInterval();if(count>=carouselImages.length-1){return}count+=1;changeImage()};const prev=()=>{reloadInterval();if(count<=0){return}count-=1;changeImage()};const changeImage=()=>{carouselSlide.style.transition=`transform 0.4s ease-in-out`;carouselSlide.style.transform=`translateX(${-size*count }px)`};document.querySelector('#nextBtn').addEventListener('click',()=>{dir='R';next()});document.querySelector('#prevBtn').addEventListener('click',()=>{dir='L';prev()});const changeImageInterval=()=>{if(dir==='R'){next()}else if(dir==='L'){prev()}};const reloadInterval=()=>{clearInterval(intervalId);intervalId=setInterval(changeImageInterval,3000)};carouselSlide.addEventListener('transitionend',()=>{if(carouselImages[count].id==='lastImg'){carouselSlide.style.transition='none';count=carouselImages.length-2;carouselSlide.style.transform=`translateX(${-size*count }px)`}if(carouselImages[count].id==='firstImg'){carouselSlide.style.transition='none';count=carouselImages.length-count;carouselSlide.style.transform=`translateX(${-size*count }px)`}});reloadInterval()}})();